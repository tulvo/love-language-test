<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>사랑의 언어 테스트</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap');

    body {
        font-family: 'Noto Sans KR', sans-serif;
        margin: 0;
        padding: 0;
        background-color: #fcf4f6;
        color: #4a4a4a;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        box-sizing: border-box;
    }
    .container {
        width: 90%;
        max-width: 550px;
        padding: 40px 30px;
        background-color: #ffffff;
        border-radius: 16px;
        box-shadow: 0 8px 30px rgba(0,0,0,0.08);
        text-align: center;
    }
    h1 {
        font-size: 2em;
        margin-bottom: 8px;
        color: #4a4a4a;
    }
    #intro {
        font-size: 1.1em;
        color: #888;
        margin-bottom: 30px;
    }
    .progress-bar-container {
        width: 100%;
        height: 10px;
        background-color: #e0e0e0;
        border-radius: 5px;
        margin-bottom: 30px;
        overflow: hidden;
    }
    .progress-bar {
        height: 100%;
        width: 0;
        background-color: #ff99aa;
        border-radius: 5px;
        transition: width 0.3s ease-in-out;
    }
    .question-text {
        font-size: 1.6em;
        font-weight: bold;
        color: #333;
        margin-bottom: 30px;
        min-height: 1.5em; /* 텍스트가 짧을 때 높이 유지 */
    }
    .question-counter {
        font-size: 1.2em;
        color: #999;
        font-weight: normal;
        margin-bottom: 10px;
    }
    .buttons {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }
    button {
    padding: 20px;
    font-size: 1.1em;
    cursor: pointer;
    border: 1px solid #ddd;
    border-radius: 10px;
    background-color: #fefefe;
    transition: all 0.3s ease;
    text-align: left;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);

    /* 모바일 환경 최적화를 위한 추가 및 수정 부분 */
    min-height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
}
    button:hover {
        background-color: #ffe6e9;
        border-color: #ff99aa;
        transform: translateY(-2px);
    }
    #result {
        white-space: pre-line;
        font-size: 1.2em;
        margin-top: 40px;
        line-height: 1.6;
        text-align: left;
    }
    #result span {
        font-weight: bold;
        color: #555;
    }
</style>
</head>
<body>

<div class="container">
    <h1>5가지 사랑의 언어 테스트</h1>
    <div id="intro">더 선호하는 것을 고르세요</div>
    <div class="progress-bar-container"><div class="progress-bar" id="progressBar"></div></div>
    <div class="question-counter" id="questionCounter"></div>
    <div class="buttons">
        <button id="btnA" onclick="selectAnswer(questions[current].a)"></button>
        <button id="btnB" onclick="selectAnswer(questions[current].b)"></button>
    </div>
    <div id="result"></div>
</div>

<script>
    const questions = [
        { q: "나는 상대로부터 인정받는 말 듣는 것을 좋아한다.", a: "A", q_b: "나는 상대와 단둘이 보내는 시간을 좋아한다.", b: "B" },
        { q: "나는 상대에게 선물 받는 것을 좋아한다.", a: "C", q_b: "나는 상대가 나를 도와줄 때 사랑을 느낀다.", b: "D" },
        { q: "나는 상대가 감싸 안아 줄 때 사랑을 느낀다.", a: "E", q_b: "나는 상대와 함께 외출하는 것을 좋아한다.", b: "B" },
        { q: "나는 상대가 나를 인정해 줄 때 사랑을 느낀다.", a: "A", q_b: "나에게는 눈에 보이는 선물이 매우 의미가 있다.", b: "C" },
        { q: "나는 상대와 함께 붙어 앉는 것을 좋아한다.", a: "E", q_b: "나는 상대와 함께 시간 보내는 것을 좋아한다.", b: "B" },
        { q: "나는 상대가 나를 도와줄 때 사랑을 느낀다.", a: "D", q_b: "나를 이해해주는 말들이 나에게는 중요하다.", b: "A" },
        { q: "나는 상대와 뭔가 함께 하는 것을 좋아한다.", a: "B", q_b: "나는 상대가 해주는 친절한 말들을 좋아한다.", b: "A" },
        { q: "나는 상대와 포옹할 때 완전함을 느낀다.", a: "E", q_b: "나는 상대의 말보다 행동을 볼 때 더 감동한다.", b: "D" },
        { q: "나는 상대의 칭찬을 좋아하고 비판을 회피하는 편이다.", a: "A", q_b: "나는 커다란 선물보다는 작지만 자주 받는 것을 좋아한다.", b: "C" },
        { q: "나는 상대가 자주 신체접촉해 줄 때 더 친근함을 느낀다.", a: "E", q_b: "나는 상대와 함께 뭔가 하거나 이야기할 때 친밀함을 느낀다.", b: "B" },
        { q: "나는 상대가 내가 해 낸 일에 대해 칭찬하는 것을 좋아한다.", a: "A", q_b: "나는 상대가 나를 위해 기꺼이 하기 싫은 일을 해 줄때 진정한 사랑을 느낀다.", b: "D" },
        { q: "나는 상대와 걸을 때 손잡아 주는 것을 좋아한다.", a: "E", q_b: "나는 상대가 내 이야기에 공감하면서 들어주는 것을 좋아한다.", b: "A" },
        { q: "나는 상대에게 선물받는 것을 정말 즐거워한다.", a: "C", q_b: "나는 상대가 집안일을 도와줄 때 사랑을 느낀다.", b: "D" },
        { q: "나는 상대방이 내 외모에 대해 칭찬해주는 것을 좋아한다.", a: "A", q_b: "나는 상대가 내 기분을 이해하기 위해 시간을 내 줄때 사랑을 느낀다.", b: "B" },
        { q: "나는 상대가 나를 어루만져 줄 때 평안함을 느낀다.", a: "E", q_b: "나는 상대의 수고에 사랑을 느낀다.", b: "D" },
        { q: "나는 나를 위해 수고하는 상대에게 고마움을 느낀다.", a: "D", q_b: "나는 상대가 만든 선물을 받는 것을 좋아한다.", b: "C" },
        { q: "나는 상대가 나에게 전념할 때 그 느낌을 굉장히 좋아한다.", a: "B", q_b: "나는 상대가 나를 위해 실제로 행할 때 그 느낌을 굉장히 좋아한다.", b: "D" },
        { q: "나는 상대가 선물과 함께 내 생일을 축하해 줄 때 사랑을 느낀다.", a: "C", q_b: "나는 상대가 장문의 손편지와 함께 내 생일을 축하해 줄 때 사랑을 느낀다.", b: "A" },
        { q: "나는 상대가 집안일을 도와줄 때 사랑을 느낀다.", a: "D", q_b: "나는 상대가 선물을 줄 때 나를 사랑해주는 것이라고 느낀다.", b: "C" },
        { q: "나는 상대가 선물과 함께 특정한 날을 기억해 줄 때 고마움을 느낀다.", a: "C", q_b: "나는 상대가 끝까지 인내를 가지고 이야기를 들어줄 때 고마움을 느낀다.", b: "B" },
        { q: "나는 상대와 장기간 여행을 즐기기 원한다.", a: "B", q_b: "나는 상대가 내가 하는 일상적인 일에 충분히 관심을 기울여 주기를 바란다.", b: "A" },
        { q: "기대하지 않은 입맞춤이 나를 설레게 한다.", a: "E", q_b: "특별하지 않은 때라도 받는 선물은 나를 설레게 한다.", b: "C" },
        { q: "나는 상대에게 고맙다는 말을 듣는 것을 좋아한다.", a: "A", q_b: "나는 상대가 이야기 하는 동안 나를 바라보는 것을 좋아한다.", b: "B" },
        { q: "나는 상대와 손잡는 것을 좋아한다.", a: "E", q_b: "나는 상대와 함께 산책하는 시간을 좋아한다.", b: "B" },
        { q: "나는 상대가 얼마나 나에게 고마워하고 있는지 말해 줄 때 사랑을 느낀다.", a: "A", q_b: "나는 상대가 내가 부탁한 일에 최선을 다해 줄 때 사랑을 느낀다.", b: "D" },
        { q: "나는 매일 가벼운 신체 접촉을 원한다.", a: "E", q_b: "나는 매일 상대방의 지지하는 말이 필요하다.", b: "A" },
        { q: "나는 상대에게 선물 받는 것을 좋아한다.", a: "C", q_b: "나는 상대에게 가벼운 신체 접촉을 받을 때 사랑을 느낀다.", b: "E" },
        { q: "나는 상대가 나를 도와줄 때 사랑을 느낀다.", a: "D", q_b: "나는 상대가 안아주는 것을 좋아한다.", b: "E" },
        { q: "나는 상대와 단둘이 보내는 시간을 좋아한다.", a: "B", q_b: "나는 상대에게 작지만 선물받는 것을 좋아한다.", b: "C" },
        { q: "나는 상대에게 칭찬을 받을 때 사랑을 느낀다.", a: "A", q_b: "나는 상대가 나를 위해 기꺼이 하기 싫은 일을 해줄 때 사랑을 느낀다.", b: "D" }
    ];

    let current = 0;
    let scores = {A:0, B:0, C:0, D:0, E:0};

    function updateProgressBar() {
        const progressBar = document.getElementById('progressBar');
        const progress = (current / questions.length) * 100;
        progressBar.style.width = `${progress}%`;
    }

    function loadQuestion() {
        if (current < questions.length) {
            document.getElementById('questionCounter').innerText = `(${current + 1}/${questions.length})`;
            document.getElementById('btnA').innerText = questions[current].q;
            document.getElementById('btnB').innerText = questions[current].q_b;
            updateProgressBar();
        } else {
            showResult();
        }
    }

    function selectAnswer(choice) {
        scores[choice]++;
        current++;
        loadQuestion();
    }

    function showResult() {
        const map = {
            A: "인정하는 말",
            B: "함께하는 시간",
            C: "선물",
            D: "봉사",
            E: "스킨십"
        };
        const descriptions = {
            A: "칭찬, 격려, 인정하는 말로 사랑을 느낍니다.",
            B: "상대와 함께하는 특별한 시간에 사랑을 느낍니다.",
            C: "작더라도 진심이 담긴 선물을 주고받으며 사랑을 느낍니다.",
            D: "상대가 나를 위해 해주는 행동과 봉사로 사랑을 느낍니다.",
            E: "가벼운 스킨십이나 포옹을 통해 사랑을 느낍니다."
        };

        const resultDiv = document.getElementById('result');
        let sorted = Object.entries(scores).sort((a,b) => b[1]-a[1]);
        const maxScore = sorted[0][1];
        const minScore = sorted[sorted.length-1][1];

        const topLanguages = sorted.filter(([_,score]) => score === maxScore).map(([letter]) => map[letter]);
        const bottomLanguages = sorted.filter(([_,score]) => score === minScore).map(([letter]) => map[letter]);

        let resultText = "## 당신의 사랑의 언어 결과는... ❤️\n\n";

        if (topLanguages.length > 1) {
            resultText += `<span>제1언어(복수)</span>: ${topLanguages.join(", ")}\n\n`;
        } else {
            const secondLanguage = sorted[1][0];
            resultText += `<span>제1언어</span>: ${map[sorted[0][0]]}\n`;
            resultText += `${descriptions[sorted[0][0]]}\n\n`;
            resultText += `<span>제2언어</span>: ${map[secondLanguage]}\n`;
            resultText += `${descriptions[secondLanguage]}\n\n`;
        }

        resultText += "---<br><br>각 언어 점수:<br>";
        for (const [key, value] of sorted) {
            resultText += `• ${map[key]}: ${value}점\n`;
        }

        resultDiv.innerHTML = resultText.replace(/\n/g, '<br>');
        document.getElementById('intro').innerText = "결과가 나왔습니다!";
        document.getElementById('questionCounter').innerText = "";
        document.querySelector('.buttons').style.display = "none";
        document.querySelector('.progress-bar-container').style.display = "none";
    }

    loadQuestion();
</script>

</body>
</html>
